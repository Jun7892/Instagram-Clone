<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/common.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/mypage.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='js/login.js') }}">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.js"></script>
    <title>Lupistagram</title>

    <script>

        {% if msg %}
        alert("{{ msg }}")
        {% endif %}

        function PopupExplain(param) {
            var val = document.getElementById(param).outerHTML;
            var explain = document.getElementById("explain");
            var w = window.open("", "", "");
            w.document.write(val);
            w.document.close();
        }

        // 로그아웃은 내가 가지고 있는 토큰만 쿠키에서 없애면 됩니다.
        function logout() {
            $.removeCookie('mytoken');
            alert('{{ nickname }}님 안녕히 가세요 🥲')
            window.location.href = '/login'
        }

        // function newTabClick() {
        //     window.open('new-tab.html', '_blank');
        // }

        // 버튼 이용
        // function newClick() {
        //     window.open('this.src');
        // }


        // function closeClick() {
        //     window.close();
        // }

        function closeClick() {
            var new_page = window.open('this.src'); //새로운 창을 열때 사용한 코드
            new_page.close(this.src); //new_page 변수명에 저장된 창을 닫음
        }

        /* move.js */
        function move() {
            location.href = "main.html";
        }


    </script>
</head>

<body>
    <div>
        <nav>
            <div class="nav-container">
                <div class="nav-1">
                    <img class="logo_instagram_txt" src="{{ url_for('static', filename='image/logo_text.png') }}"
                        onclick='window.location.href = "/main"' alt="logo_text">
                </div>
                <input id="searchInput" type="search" class="input-search" placeholder="검색">
                <div class="nav-2" id="nav">
                    <img src="static/image/home.png" onclick='window.location.href = "/main"' alt="홈">
                    <img src="static/image/dm.png" alt="DM">
                    <img src="https://s3.ap-northeast-2.amazonaws.com/cdn.wecode.co.kr/bearu/explore.png" alt="탐색">
                    <img src="https://s3.ap-northeast-2.amazonaws.com/cdn.wecode.co.kr/bearu/heart.png" alt="하트">
                    <img class="pic" src="static/image/Lu6.png" onclick="logout()">

                </div>
            </div>
        </nav>

        <div id="post-container">
            <div class="post-wrapper">
                <div class="post-header">
                    <div class="right-wrapper">
                        <img class="pfp" src="static/image/Lu6.png" align="left" vspace="10" hspace="10">
                        <span style="font-size:5px">&nbsp;</span>
                        <span
                            style="font-size:30px">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{nickname}}</span>
                        <span style="font-size:10px">&nbsp;</span>
                        <span
                            style="display:inline">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{posts}}&nbsp;posts&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{followers}}&nbsp;followers&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{following}}&nbsp;following</span>
                        <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{id}}
                        </p>
                    </div>
                </div>

                <div class="post-body">

                </div>
            </div>

            <div class="post-wrapper">
                <div class="post-header">
                    <div class="post-menu">
                        Posts&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Videos&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reels&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tagged
                    </div>
                </div>

                <!-- <div class="post-body">
                    <div class="post-collection">
                        <img src="static/image/Lu2.jpg" class="img-collection" onclick="window.open(this.src)" />
                        <img src="static/image/Lu4.jpg" class="img-collection" onclick="window.open(this.src)" />
                        <img src="static/image/Lu1.jpg" class="img-collection" onclick="window.open(this.src)" />
                        <img src="static/image/Lu3.jpg" class="img-collection" onclick="window.open(this.src)" />
                        <img src="static/image/Lu5.png" class="img-collection" onclick="window.open(this.src)" />
                        <img src="static/image/Lu7.jpg" class="img-collection" onclick="window.open(this.src)" />
                        <img src="static/image/Lu8.jpg" class="img-collection" onclick="window.open(this.src)" />
                        <img src="static/image/Lu9.jpg" class="img-collection" onclick="window.open(this.src)" />
                        <img src="static/image/Lu10.jpg" class="img-collection" onclick="window.open(this.src)" />
                    </div>
                </div> -->

                <!-- forloop으로 할당된 값으로 내 프로필 구현 - 가능하면 나중에 이미지 업로드/ db에서 받아 jinja로 구현 예정 QQQ  -->

                <div class='bigPictureWrapper'>
                    <div class='bigPicture'>
                    </div>
                </div>

                <div class="post-body">
                    <div class="post-collection" id="post-collection">
                        <img src="static/image/Lu2.jpg" class="img-collection" style="width: 300px; height: 300px;" />
                        <img src="static/image/Lu4.jpg" class="img-collection" style="width: 300px; height: 300px;" />
                        <img src="static/image/Lu1.jpg" class="img-collection" style="width: 300px; height: 300px;" />
                        <img src="static/image/Lu3.jpg" class="img-collection" style="width: 300px; height: 300px;" />
                        <img src="static/image/Lu5.png" class="img-collection" style="width: 300px; height: 300px;" />
                        <img src="static/image/Lu7.jpg" class="img-collection" style="width: 300px; height: 300px;" />
                        <img src="static/image/Lu8.jpg" class="img-collection" style="width: 300px; height: 300px;" />
                        <img src="static/image/Lu9.jpg" class="img-collection" style="width: 300px; height: 300px;" />
                        <img src="static/image/Lu10.jpg" class="img-collection" style="width: 300px; height: 300px;" />
                    </div>
                </div>
            </div>
        </div>


        <!--  파일 업로드
        <form action="/fileupload" method="POST" enctype="multipart/form-data">
            <input type="file" name="file" />
            <br><br>
            <input type="submit" />
            <input type="reset" />
        </form> -->



    </div>

</body>
<script>

    $(document).ready(function (e) {

        $(".post-collection").on("click", "img", function () {
            var path = $(this).attr('src')
            showImage(path);
        });//end click event

        function showImage(fileCallPath) {

            $(".bigPictureWrapper").css("display", "flex").show();

            $(".bigPicture")
                .html("<img src='" + fileCallPath + "' >")
                .animate({ width: '100%', height: '100%' }, 200);

        }//end fileCallPath

        $(".bigPictureWrapper").on("click", function (e) {
            $(".bigPicture").animate({ width: '0%', height: '0%' }, 250);
            setTimeout(function () {
                $('.bigPictureWrapper').hide();
            }, 250);
        });//end bigWrapperClick event
    });

</script>

</html>